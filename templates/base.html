<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ title or "Plateforme • Intégrale Academy" }}</title>

  <style>
    :root{
      --bg:#0c1110;
      --card:#0f1715;
      --soft:#121c19;
      --line:#1b2a25;
      --text:#e9f3ef;
      --muted:#9ab1a8;
      --primary:#1f8f4a;
      --primary2:#15703a;
      --danger:#d64545;
      --warn:#f4c45a;
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --radius:16px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background: radial-gradient(1200px 600px at 10% -10%, rgba(31,143,74,.22), transparent 60%),
                  radial-gradient(900px 500px at 90% 0%, rgba(244,196,90,.12), transparent 55%),
                  var(--bg);
      color:var(--text);
    }

    a{color:inherit}
    .container{max-width:1200px;margin:0 auto;padding:18px 14px 28px}
    .topbar{
      position:sticky;top:0;z-index:20;
      backdrop-filter: blur(10px);
      background: rgba(12,17,16,.65);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .topbar-inner{
      max-width:1200px;margin:0 auto;padding:14px 14px;
      display:flex;align-items:center;gap:12px;justify-content:space-between;
    }
    .brand{display:flex;align-items:center;gap:10px;text-decoration:none}
    .logo{
      width:34px;height:34px;border-radius:12px;
      background: linear-gradient(135deg, rgba(31,143,74,.9), rgba(21,112,58,.9));
      box-shadow: 0 12px 30px rgba(31,143,74,.18);
    }
    .brand strong{font-weight:900;letter-spacing:.2px}
    .brand span{color:var(--muted);font-size:13px;margin-left:6px}

    .page-head{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;margin:14px 0 10px;
    }
    h1,h2{margin:0}
    h1{font-size:26px}
    h2{font-size:18px;color:#d9e7e1}

    .grid{display:grid;gap:12px}
    .cards{grid-template-columns:repeat(3, minmax(0, 1fr))}
    @media(max-width:1050px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(max-width:720px){.cards{grid-template-columns:repeat(1,minmax(0,1fr))}}

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
      border:1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .card-row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .card-title{font-weight:900;font-size:16px}
    .bigmark{font-size:34px;line-height:1}

    .card-meta{margin-top:10px;color:var(--muted);font-size:13px;display:grid;gap:6px}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;border-radius:999px;
      background: rgba(31,143,74,.16);
      border:1px solid rgba(31,143,74,.18);
      color:#cfe9db;
      font-weight:800;
      font-size:12px;
      width:fit-content;
    }

    .card-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}

    .btn{
      appearance:none;border:none;cursor:pointer;
      padding:10px 12px;border-radius:12px;
      background: rgba(255,255,255,.06);
      color:var(--text);font-weight:900;
      border:1px solid rgba(255,255,255,.10);
      text-decoration:none;
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
    }
    .btn:hover{filter:brightness(1.06)}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .btn-primary{
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      border:1px solid rgba(31,143,74,.35);
      box-shadow: 0 16px 38px rgba(31,143,74,.18);
    }
    .btn-danger{
      background: rgba(214,69,69,.18);
      border:1px solid rgba(214,69,69,.25);
    }
    .btn-outline{
      background: transparent;
      border:1px solid rgba(255,255,255,.14);
    }

    .breadcrumbs{margin:12px 0 6px;color:var(--muted)}
    .breadcrumbs a{text-decoration:none}
    .breadcrumbs a:hover{text-decoration:underline}

    .session-header{
      display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
      padding:14px;border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.02);
      box-shadow: var(--shadow);
      margin:10px 0 12px;
    }
    .meta-line{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:13px;margin-top:8px}
    .session-stats{display:grid;grid-template-columns:repeat(4, minmax(0, 1fr));gap:10px}
    @media(max-width:900px){.session-header{flex-direction:column}.session-stats{grid-template-columns:repeat(2, minmax(0,1fr))}}
    .stat{
      padding:10px;border-radius:14px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.02);
      text-align:center;
      min-width:140px;
    }
    .stat-title{color:var(--muted);font-size:12px;font-weight:800}
    .stat-value{font-size:18px;font-weight:1000;margin-top:6px}

    .table-wrap{overflow:auto;border-radius: var(--radius);border:1px solid rgba(255,255,255,.08);box-shadow: var(--shadow)}
    .full-bleed{width:100%}
    table{width:100%;border-collapse:separate;border-spacing:0;min-width:1080px;background: rgba(255,255,255,.02)}
    thead th{
      text-align:left;font-size:12px;color:var(--muted);
      padding:12px;border-bottom:1px solid rgba(255,255,255,.08);
      position:sticky;top:0;background: rgba(12,17,16,.85);backdrop-filter: blur(6px);
      z-index:5;
    }
    tbody td{
      padding:12px;border-bottom:1px solid rgba(255,255,255,.06);
      vertical-align:middle;
    }
    tbody tr:hover{background: rgba(255,255,255,.03)}
    .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:12px;color:#d7e7e0}
    .small{font-size:12px;color:var(--muted);margin-top:6px}

    .row-warning{outline:2px solid rgba(244,196,90,.35); background: rgba(244,196,90,.06)}
    .warn-line{color:var(--warn);font-weight:1000}

    select, input{
      width:100%;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
    }
    input::placeholder{color: rgba(233,243,239,.45)}
    .hint{margin-top:6px;font-size:12px;color:var(--muted)}

    .inline{display:flex;align-items:center;gap:8px}
    .mini-btn{
      border:none;cursor:pointer;
      padding:8px 10px;border-radius:12px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      font-weight:900;
    }

    /* Modal */
    .modal-backdrop{
      position:fixed;inset:0;
      background: rgba(0,0,0,.55);
      display:none;align-items:center;justify-content:center;
      padding:14px;z-index:60;
    }
    .modal{
      width:100%;max-width:640px;
      background: rgba(15,23,21,.98);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 14px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .modal-title{font-weight:1000}
    .icon-btn{
      border:none;cursor:pointer;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      width:38px;height:38px;border-radius:12px;
      font-weight:1000;
    }
    .modal-body{padding:14px}
    .modal-foot{
      display:flex;justify-content:flex-end;gap:10px;
      padding:14px;border-top:1px solid rgba(255,255,255,.08);
    }
    .form-grid{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:12px}
    @media(max-width:720px){.form-grid{grid-template-columns:1fr}}
    .label{font-size:12px;color:var(--muted);font-weight:900;margin-bottom:6px}
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="{{ url_for('admin_sessions') }}">
        <div class="logo"></div>
        <div>
          <strong>Intégrale Academy</strong>
          <span>Plateforme gestion stagiaires</span>
        </div>
      </a>
      <div></div>
    </div>
  </div>

  <div class="container">
    {% block content %}{% endblock %}
  </div>

  <script>
    // Modal helpers (generic)
    function openModal(id){
      const el = document.getElementById(id);
      if(el) el.style.display = "flex";
    }
    function closeModal(id){
      const el = document.getElementById(id);
      if(el) el.style.display = "none";
    }
    document.querySelectorAll("[data-close-modal]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        closeModal(btn.getAttribute("data-close-modal"));
      });
    });
    document.querySelectorAll(".modal-backdrop").forEach(backdrop=>{
      backdrop.addEventListener("click", (e)=>{
        if(e.target === backdrop) backdrop.style.display="none";
      });
    });
  </script>
</body>
</html>
